<html>
<head>
  <title>React Photos Feed</title>
  <script src="https://fb.me/react-0.13.3.js"></script>
  <script src="https://fb.me/JSXTransformer-0.13.3.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.96.1/css/materialize.min.css">

</head>
<body>
  <div class="container">
    <div class="col s3 offset-s6">
      <h3>React Vote Counter</h3>
      <div id="app"></div>
      <div id="app2"></div>
      <div id="app3"></div>

    </div>
  </div>

  <script type="text/jsx">
    API = {
      votes: 0,
      addVote: function(){
        this.votes = this.votes +1;
        reRender();
      }
    }

    var VoteApp = React.createClass({
      getInitialState:function(){
        return {enableSecondButton: false}
      },
      handleEnable: function(){
        this.setState({enableSecondButton: !this.state.enableSecondButton})
      },
      handleAddVote: function(){
        API.addVote()
      },
      render: function(){
        return (
        <p>
          <a className="btn-floating btn-large waves-effect waves-light blue"
            onClick={this.handleEnable}>
            <i className="mdi-content-add"></i>
          </a>
          {this._getOtherButton()}
          Votes: {API.votes}
        </p>
        );
      },
      _getOtherButton: function(){
        if(this.state.enableSecondButton){
          return (<a className="btn-floating btn-large waves-effect waves-light red"
            onClick={this.handleAddVote}>
            <i className="mdi-content-add"></i>
          </a>);
        }
      }
    })
    reRender = function(){
      React.render(<VoteApp />, document.getElementById('app'))
      React.render(<VoteApp />, document.getElementById('app2'))
      React.render(<VoteApp />, document.getElementById('app3'))
    }
    reRender()
  </script>
  </body>
</body>
</html>
